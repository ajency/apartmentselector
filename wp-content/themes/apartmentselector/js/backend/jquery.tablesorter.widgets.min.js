/*! tableSorter 2.16+ widgets - updated 7/4/2014 (v2.17.4) */
!function(e){var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",wrapper:"tablesorter-wrapper",resizer:"tablesorter-resizer",grip:"tablesorter-resizer-grip",sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible"}),t.storage=function(t,r,i,s){t=e(t)[0];var a,l,n=!1;a={},l=t.config;var o=e(t);if(t=s&&s.id||o.attr(s&&s.group||"data-table-group")||t.id||e(".tablesorter").index(o),s=s&&s.url||o.attr(s&&s.page||"data-table-page")||l&&l.fixedUrl||window.location.pathname,"localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),n=!0,window.localStorage.removeItem("_tmptest")}catch(d){}return e.parseJSON&&(n?a=e.parseJSON(localStorage[r]||"{}"):(l=document.cookie.split(/[;\s|=]/),a=e.inArray(r,l)+1,a=0!==a?e.parseJSON(l[a]||"{}"):{})),(i||""===i)&&window.JSON&&JSON.hasOwnProperty("stringify")?(a[s]||(a[s]={}),a[s][t]=i,void(n?localStorage[r]=JSON.stringify(a):(i=new Date,i.setTime(i.getTime()+31536e6),document.cookie=r+"="+JSON.stringify(a).replace(/\"/g,'"')+"; expires="+i.toGMTString()+"; path=/"))):a&&a[s]?a[s][t]:""},t.addHeaderResizeEvent=function(t,r,i){var s;i=e.extend({},{timer:250},i);var a=t.config,l=a.widgetOptions,n=function(t){l.resize_flag=!0,s=[],a.$headers.each(function(){var t=e(this),r=t.data("savedSizes")||[0,0],i=this.offsetWidth,a=this.offsetHeight;(i!==r[0]||a!==r[1])&&(t.data("savedSizes",[i,a]),s.push(this))}),s.length&&!1!==t&&a.$table.trigger("resize",[s]),l.resize_flag=!1};return n(!1),clearInterval(l.resize_timer),r?l.resize_flag=!1:void(l.resize_timer=setInterval(function(){l.resize_flag||n()},i.timer))},t.addWidget({id:"uitheme",priority:10,format:function(r,i,s){var a,l,n,o=t.themes;a=i.$table,n=i.$headers;var d=i.theme||"jui",c=o[d]||o.jui,o=c.sortNone+" "+c.sortDesc+" "+c.sortAsc;for(i.debug&&(l=new Date),a.hasClass("tablesorter-"+d)&&i.theme!==d&&r.hasInitialized||(""!==c.even&&(s.zebra[0]+=" "+c.even),""!==c.odd&&(s.zebra[1]+=" "+c.odd),a.find("caption").addClass(c.caption),r=a.removeClass(""===i.theme?"":"tablesorter-"+i.theme).addClass("tablesorter-"+d+" "+c.table).find("tfoot"),r.length&&r.find("tr").addClass(c.footerRow).children("th, td").addClass(c.footerCells),n.addClass(c.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](c.hover)}),n.find("."+t.css.wrapper).length||n.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),i.cssIcon&&n.find("."+t.css.icon).addClass(c.icons),a.hasClass("hasFilters")&&n.find("."+t.css.filterRow).addClass(c.filterRow)),a=0;a<i.columns;a++)n=i.$headers.add(i.$extraHeaders).filter('[data-column="'+a+'"]'),r=t.css.icon?n.find("."+t.css.icon):n,s=i.$headers.filter('[data-column="'+a+'"]:last'),s.length&&(s[0].sortDisabled?(n.removeClass(o),r.removeClass(o+" "+c.icons)):(s=n.hasClass(t.css.sortAsc)?c.sortAsc:n.hasClass(t.css.sortDesc)?c.sortDesc:n.hasClass(t.css.header)?c.sortNone:"",n[s===c.sortNone?"removeClass":"addClass"](c.active),r.removeClass(o).addClass(s)));i.debug&&t.benchmark("Applying "+d+" theme",l)},remove:function(e,r,i){e=r.$table,r=r.theme||"jui",i=t.themes[r]||t.themes.jui;var s=e.children("thead").children(),a=i.sortNone+" "+i.sortDesc+" "+i.sortAsc;e.removeClass("tablesorter-"+r+" "+i.table).find(t.css.header).removeClass(i.header),s.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(i.hover+" "+a+" "+i.active).find("."+t.css.filterRow).removeClass(i.filterRow),s.find("."+t.css.icon).removeClass(i.icons)}}),t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(r,i,s){var a,l,n,o,d,c,f,h,u=i.$table,g=i.$tbodies,p=i.sortList,m=p.length,b=s&&s.columns||["primary","secondary","tertiary"],v=b.length-1;for(f=b.join(" "),i.debug&&(a=new Date),n=0;n<g.length;n++)l=t.processTbody(r,g.eq(n),!0),o=l.children("tr"),o.each(function(){if(d=e(this),"none"!==this.style.display&&(c=d.children().removeClass(f),p&&p[0]&&(c.eq(p[0][0]).addClass(b[0]),m>1)))for(h=1;m>h;h++)c.eq(p[h][0]).addClass(b[h]||b[v])}),t.processTbody(r,l,!1);if(r=!1!==s.columns_thead?["thead tr"]:[],!1!==s.columns_tfoot&&r.push("tfoot tr"),r.length&&(o=u.find(r.join(",")).children().removeClass(f),m))for(h=0;m>h;h++)o.filter('[data-column="'+p[h][0]+'"]').addClass(b[h]||b[v]);i.debug&&t.benchmark("Applying Columns widget",a)},remove:function(r,i,s){var a=i.$tbodies,l=(s.columns||["primary","secondary","tertiary"]).join(" ");for(i.$headers.removeClass(l),i.$table.children("tfoot").children("tr").children("th, td").removeClass(l),i=0;i<a.length;i++)s=t.processTbody(r,a.eq(i),!0),s.children("tr").each(function(){e(this).children().removeClass(l)}),t.processTbody(r,s,!1)}}),t.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value"},format:function(e,r,i){r.$table.hasClass("hasFilters")||t.filter.init(e,r,i)},remove:function(r,i,s){var a,l=i.$tbodies;for(i.$table.removeClass("hasFilters").unbind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(i.namespace+"filter ")).find("."+t.css.filterRow).remove(),i=0;i<l.length;i++)a=t.processTbody(r,l.eq(i),!0),a.children().removeClass(s.filter_filteredRow).show(),t.processTbody(r,a,!1);s.filter_reset&&e(document).undelegate(s.filter_reset,"click.tsfilter")}}),t.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g},types:{regex:function(e,r,i,s){if(t.filter.regex.regex.test(r)){var a;e=t.filter.regex.regex.exec(r);try{a=new RegExp(e[1],e[2]).test(s)}catch(l){a=!1}return a}return null},operators:function(r,i,s,a,l,n,o,d,c){if(/^[<>]=?/.test(i)){var f;return s=o.config,r=t.formatFloat(i.replace(t.filter.regex.operators,""),o),d=s.parsers[n],s=r,(c[n]||"numeric"===d.type)&&(f=d.format(e.trim(""+i.replace(t.filter.regex.operators,"")),o,[],n),r="number"!=typeof f||""===f||isNaN(f)?r:f),a=!c[n]&&"numeric"!==d.type||isNaN(r)||"undefined"==typeof l?isNaN(a)?t.formatFloat(a.replace(t.filter.regex.nondigit,""),o):t.formatFloat(a,o):l,/>/.test(i)&&(f=/>=/.test(i)?a>=r:a>r),/</.test(i)&&(f=/<=/.test(i)?r>=a:r>a),f||""!==s||(f=!0),f}return null},notMatch:function(r,i,s,a,l,n,o,d){return/^\!/.test(i)?(i=i.replace("!",""),t.filter.regex.exact.test(i)?(i=i.replace(t.filter.regex.exact,""),""===i?!0:e.trim(i)!==a):(r=a.search(e.trim(i)),""===i?!0:!(d.filter_startsWith?0===r:r>=0))):null},exact:function(r,i,s,a,l,n,o,d,c,f){return t.filter.regex.exact.test(i)?(r=i.replace(t.filter.regex.exact,""),f?0<=e.inArray(r,f):r==a):null},and:function(r,i,s,a){if(t.filter.regex.andTest.test(r)){for(r=i.split(t.filter.regex.andSplit),i=0<=a.search(e.trim(r[0])),s=r.length-1;i&&s;)i=i&&0<=a.search(e.trim(r[s])),s--;return i}return null},range:function(e,r,i,s,a,l,n,o,d){if(t.filter.regex.toTest.test(r)){e=n.config;var c=r.split(t.filter.regex.toSplit);return i=t.formatFloat(c[0].replace(t.filter.regex.nondigit,""),n),o=t.formatFloat(c[1].replace(t.filter.regex.nondigit,""),n),(d[l]||"numeric"===e.parsers[l].type)&&(r=e.parsers[l].format(""+c[0],n,e.$headers.eq(l),l),i=""===r||isNaN(r)?i:r,r=e.parsers[l].format(""+c[1],n,e.$headers.eq(l),l),o=""===r||isNaN(r)?o:r),r=!d[l]&&"numeric"!==e.parsers[l].type||isNaN(i)||isNaN(o)?isNaN(s)?t.formatFloat(s.replace(t.filter.regex.nondigit,""),n):t.formatFloat(s,n):a,i>o&&(s=i,i=o,o=s),r>=i&&o>=r||""===i||""===o}return null},wild:function(r,i,s,a,l,n,o,d,c,f){return/[\?|\*]/.test(i)||t.filter.regex.orReplace.test(r)?(r=o.config,i=i.replace(t.filter.regex.orReplace,"|"),!r.$headers.filter('[data-column="'+n+'"]:last').hasClass("filter-match")&&/\|/.test(i)&&(i=e.isArray(f)?"("+i+")":"^("+i+")$"),new RegExp(i.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(a)):null},fuzzy:function(e,t,r,i){if(/^~/.test(t)){e=0,r=i.length;var s=t.slice(1);for(t=0;r>t;t++)i[t]===s[e]&&(e+=1);return e===s.length?!0:!1}return null}},init:function(r,i,s){t.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},t.language);var a,l,n,o,d,c,f;if(a=t.filter.regex,i.debug&&(c=new Date),i.$table.addClass("hasFilters"),s.searchTimer=null,e.extend(a,{child:new RegExp(i.cssChildRow),filtered:new RegExp(s.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+t.language.or+"|-|"+t.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+t.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+t.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+t.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+t.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+t.language.or+")\\s+","gi")}),!1!==s.filter_columnFilters&&i.$headers.filter(".filter-false").length!==i.$headers.length&&t.filter.buildRow(r,i,s),i.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(i.namespace+"filter "),function(a,l){return i.$table.find("."+t.css.filterRow).toggle(!(s.filter_hideEmpty&&e.isEmptyObject(i.cache))),/(search|filter)/.test(a.type)||(a.stopPropagation(),t.filter.buildDefault(r,!0)),"filterReset"===a.type?(i.$table.find("."+t.css.filter).add(s.filter_$externalFilters).val(""),t.filter.searching(r,[])):"filterEnd"===a.type?t.filter.buildDefault(r,!0):(l="search"===a.type?l:"updateComplete"===a.type?i.$table.data("lastSearch"):"",/(update|add)/.test(a.type)&&"updateComplete"!==a.type&&(i.lastCombinedFilter=null,i.lastSearch=[]),t.filter.searching(r,l,!0)),!1}),s.filter_reset&&(s.filter_reset instanceof e?s.filter_reset.click(function(){i.$table.trigger("filterReset")}):e(s.filter_reset).length&&e(document).undelegate(s.filter_reset,"click.tsfilter").delegate(s.filter_reset,"click.tsfilter",function(){i.$table.trigger("filterReset")})),s.filter_functions)for(o=0;o<i.columns;o++)if(f=t.getColumnData(r,s.filter_functions,o))if(n=i.$headers.filter('[data-column="'+o+'"]:last'),a="",!0!==f||n.hasClass("filter-false")){if("object"==typeof f&&!n.hasClass("filter-false")){for(l in f)"string"==typeof l&&(a+=""===a?'<option value="">'+(n.data("placeholder")||n.attr("data-placeholder")||s.filter_placeholder.select||"")+"</option>":"",a+='<option value="'+l+'">'+l+"</option>");i.$table.find("thead").find("select."+t.css.filter+'[data-column="'+o+'"]').append(a)}}else t.filter.buildSelect(r,o);t.filter.buildDefault(r,!0),t.filter.bindSearch(r,i.$table.find("."+t.css.filter),!0),s.filter_external&&t.filter.bindSearch(r,s.filter_external),s.filter_hideFilters&&t.filter.hideFilters(r,i),i.showProcessing&&i.$table.bind("filterStart"+i.namespace+"filter filterEnd"+i.namespace+"filter",function(s,a){n=a?i.$table.find("."+t.css.header).filter("[data-column]").filter(function(){return""!==a[e(this).data("column")]}):"",t.isProcessing(r,"filterStart"===s.type,a?n:"")}),i.debug&&t.benchmark("Applying Filter widget",c),i.$table.bind("tablesorter-initialized pagerInitialized",function(e){e=this.config.widgetOptions,d=t.filter.setDefaults(r,i,e)||[],d.length&&t.setFilters(r,d,!0),i.$table.trigger("filterFomatterUpdate"),e.filter_initialized||(e.filter_initialized=!0,i.$table.trigger("filterInit",i))}),i.pager&&i.pager.initialized&&!s.filter_initialized&&(s.filter_initialized=!0,i.$table.trigger("filterFomatterUpdate").trigger("filterInit",i))},setDefaults:function(r,i,s){var a,l=t.getFilters(r)||[];if(s.filter_saveFilters&&t.storage&&(a=t.storage(r,"tablesorter-filters")||[],(r=e.isArray(a))&&""===a.join("")||!r||(l=a)),""===l.join(""))for(r=0;r<i.columns;r++)l[r]=i.$headers.filter('[data-column="'+r+'"]:last').attr(s.filter_defaultAttrib)||l[r];return i.$table.data("lastSearch",l),l},buildRow:function(r,i,s){var a,l,n,o,d=i.columns;for(n='<tr class="'+t.css.filterRow+'">',a=0;d>a;a++)n+="<td></td>";for(i.$filters=e(n+"</tr>").appendTo(i.$table.children("thead").eq(0)).find("td"),a=0;d>a;a++)l=i.$headers.filter('[data-column="'+a+'"]:last'),n=t.getColumnData(r,s.filter_functions,a),n=s.filter_functions&&n&&"function"!=typeof n||l.hasClass("filter-select"),o="false"===t.getData(l[0],t.getColumnData(r,i.headers,a),"filter"),n?n=e("<select>").appendTo(i.$filters.eq(a)):((n=t.getColumnData(r,s.filter_formatter,a))?((n=n(i.$filters.eq(a),a))&&0===n.length&&(n=i.$filters.eq(a).children("input")),n&&(0===n.parent().length||n.parent().length&&n.parent()[0]!==i.$filters[a])&&i.$filters.eq(a).append(n)):n=e('<input type="search">').appendTo(i.$filters.eq(a)),n&&n.attr("placeholder",l.data("placeholder")||l.attr("data-placeholder")||s.filter_placeholder.search||"")),n&&(l=(e.isArray(s.filter_cssFilter)?"undefined"!=typeof s.filter_cssFilter[a]?s.filter_cssFilter[a]||"":"":s.filter_cssFilter)||"",n.addClass(t.css.filter+" "+l).attr("data-column",a),o&&(n.attr("placeholder","").addClass("disabled")[0].disabled=!0))},bindSearch:function(r,i,s){if(r=e(r)[0],i=e(i),i.length){var a=r.config,l=a.widgetOptions,n=l.filter_$externalFilters;!0!==s&&(l.filter_$anyMatch=i.filter('[data-column="all"]'),l.filter_$externalFilters=n&&n.length?l.filter_$externalFilters.add(i):i,t.setFilters(r,a.$table.data("lastSearch")||[],!1===s)),i.attr("data-lastSearchTime",(new Date).getTime()).unbind(["keypress","keyup","search","change",""].join(a.namespace+"filter ")).bind("keyup"+a.namespace+"filter",function(i){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===i.which)this.value="";else if(!1===l.filter_liveSearch||""!==this.value&&("number"==typeof l.filter_liveSearch&&this.value.length<l.filter_liveSearch||13!==i.which&&8!==i.which&&(32>i.which||37<=i.which&&40>=i.which)))return;t.filter.searching(r,!0,!0)}).bind(["search","change","keypress",""].join(a.namespace+"filter "),function(i){var s=jQuery(this).data("column");(13===i.which||"search"===i.type||"change"===i.type&&this.value!==a.lastSearch[s])&&(i.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.filter.searching(r,!1,!0))})}},searching:function(e,r,i){var s=e.config.widgetOptions;clearTimeout(s.searchTimer),"undefined"==typeof r||!0===r?s.searchTimer=setTimeout(function(){t.filter.checkFilters(e,r,i)},s.filter_liveSearch?s.filter_searchDelay:10):t.filter.checkFilters(e,r,i)},checkFilters:function(r,i,s){var a=r.config,l=a.widgetOptions,n=e.isArray(i),o=n?i:t.getFilters(r,!0),d=(o||[]).join("");if(!e.isEmptyObject(a.cache)&&(n&&(t.setFilters(r,o,!1,!0!==s),l.filter_initialized||(a.lastCombinedFilter="")),l.filter_hideFilters&&a.$table.find("."+t.css.filterRow).trigger(""===d?"mouseleave":"mouseenter"),a.lastCombinedFilter!==d||!1===i)){if(!1===i&&(a.lastCombinedFilter=null,a.lastSearch=[]),l.filter_initialized&&a.$table.trigger("filterStart",[o]),!a.showProcessing)return t.filter.findRows(r,o,d),!1;setTimeout(function(){return t.filter.findRows(r,o,d),!1},30)}},hideFilters:function(r,i){var s,a,l;e(r).find("."+t.css.filterRow).addClass("hideme").bind("mouseenter mouseleave",function(t){s=e(this),clearTimeout(l),l=setTimeout(function(){/enter|over/.test(t.type)?s.removeClass("hideme"):e(document.activeElement).closest("tr")[0]!==s[0]&&""===i.lastCombinedFilter&&s.addClass("hideme")},200)}).find("input, select").bind("focus blur",function(r){a=e(this).closest("tr"),clearTimeout(l),l=setTimeout(function(){""===t.getFilters(i.$table).join("")&&a["focus"===r.type?"removeClass":"addClass"]("hideme")},200)})},findRows:function(r,i,s){if(r.config.lastCombinedFilter!==s){var a,l,n,o,d,c,f,h,u,g,p,m,b,v,y,w,_,C,$,x,z,S,R,k,F,T,D=t.filter.regex,N=r.config,H=N.widgetOptions,E=N.columns,O=N.$table.children("tbody"),I=["range","notMatch","operators"],A=N.$headers.map(function(i){return N.parsers&&N.parsers[i]&&N.parsers[i].parsed||t.getData&&"parsed"===t.getData(N.$headers.filter('[data-column="'+i+'"]:last'),t.getColumnData(r,N.headers,i),"filter")||e(this).hasClass("filter-parsed")}).get();for(N.debug&&($=new Date),N.filteredRows=0,d=N.totalRows=0;d<O.length;d++)if(!O.eq(d).hasClass(N.cssInfoBlock||t.css.info)){if(c=t.processTbody(r,O.eq(d),!0),h=N.columns,n=e(e.map(N.cache[d].normalized,function(e){return e[h].$row.get()})),""===s||H.filter_serversideFiltering)n.removeClass(H.filter_filteredRow).not("."+N.cssChildRow).show();else{if(n=n.not("."+N.cssChildRow),l=n.length,w=H.filter_searchFiltered,f=N.lastSearch||N.$table.data("lastSearch")||[],w)for(g=0;h+1>g;g++)u=i[g]||"",w||(g=h),w=!(!w||!f.length||0!==u.indexOf(f[g]||"")||D.alreadyFiltered.test(u)||/[=\"\|!]/.test(u)||/(>=?\s*-\d)/.test(u)||/(<=?\s*\d)/.test(u)||""!==u&&N.$filters&&N.$filters.eq(g).find("select").length&&!N.$headers.filter('[data-column="'+g+'"]:last').hasClass("filter-match"));for(f=n.not("."+H.filter_filteredRow).length,w&&0===f&&(w=!1),N.debug&&t.log("Searching through "+(w&&l>f?f:"all")+" rows"),(H.filter_$anyMatch&&H.filter_$anyMatch.length||i[N.columns])&&(x=H.filter_$anyMatch&&H.filter_$anyMatch.val()||i[N.columns]||"",N.sortLocaleCompare&&(x=t.replaceAccents(x)),z=x.toLowerCase()),o=0;l>o;o++)if(u=n[o].className,!(D.child.test(u)||w&&D.filtered.test(u))){for(C=!0,u=n.eq(o).nextUntil("tr:not(."+N.cssChildRow+")"),g=u.length&&H.filter_childRows?u.text():"",g=H.filter_ignoreCase?g.toLocaleLowerCase():g,f=n.eq(o).children(),x&&(S=f.map(function(r){return A[r]?r=N.cache[d].normalized[o][r]:(r=H.filter_ignoreCase?e(this).text().toLowerCase():e(this).text(),N.sortLocaleCompare&&(r=t.replaceAccents(r))),r}).get(),R=S.join(" "),k=R.toLowerCase(),F=N.cache[d].normalized[o].slice(0,-1).join(" "),_=null,e.each(t.filter.types,function(t,i){return 0>e.inArray(t,I)&&(v=i(x,z,R,k,F,E,r,H,A,S),null!==v)?(_=v,!1):void 0}),C=null!==_?_:0<=(k+g).indexOf(z)),h=0;E>h;h++)i[h]&&(a=N.cache[d].normalized[o][h],H.filter_useParsedData||A[h]?p=a:(p=e.trim(f.eq(h).text()),p=N.sortLocaleCompare?t.replaceAccents(p):p),m=!D.type.test(typeof p)&&H.filter_ignoreCase?p.toLocaleLowerCase():p,y=C,i[h]=N.sortLocaleCompare?t.replaceAccents(i[h]):i[h],b=H.filter_ignoreCase?(i[h]||"").toLocaleLowerCase():i[h],(T=t.getColumnData(r,H.filter_functions,h))?!0===T?y=N.$headers.filter('[data-column="'+h+'"]:last').hasClass("filter-match")?0<=m.search(b):i[h]===p:"function"==typeof T?y=T(p,a,i[h],h,n.eq(o)):"function"==typeof T[i[h]]&&(y=T[i[h]](p,a,i[h],h,n.eq(o))):(_=null,e.each(t.filter.types,function(e,t){return v=t(i[h],b,p,m,a,h,r,H,A),null!==v?(_=v,!1):void 0}),null!==_?y=_:(p=(m+g).indexOf(b),y=!H.filter_startsWith&&p>=0||H.filter_startsWith&&0===p)),C=y?C:!1);n.eq(o).toggle(C).toggleClass(H.filter_filteredRow,!C),u.length&&u.toggleClass(H.filter_filteredRow,!C)}}N.filteredRows+=n.not("."+H.filter_filteredRow).length,N.totalRows+=n.length,t.processTbody(r,c,!1)}N.lastCombinedFilter=s,N.lastSearch=i,N.$table.data("lastSearch",i),H.filter_saveFilters&&t.storage&&t.storage(r,"tablesorter-filters",i),N.debug&&t.benchmark("Completed filter widget search",$),H.filter_initialized&&N.$table.trigger("filterEnd",N),setTimeout(function(){N.$table.trigger("applyWidgets")},0)}},getOptionSource:function(r,i,s){var a,l=r.config,n=[],o=!1,d=l.widgetOptions.filter_selectSource,c=e.isFunction(d)?!0:t.getColumnData(r,d,i);return!0===c?o=d(r,i,s):"object"===e.type(d)&&c&&(o=c(r,i,s)),!1===o&&(o=t.filter.getOptions(r,i,s)),o=e.grep(o,function(t,r){return e.inArray(t,o)===r}),l.$headers.filter('[data-column="'+i+'"]:last').hasClass("filter-select-nosort")||(e.each(o,function(e,t){n.push({t:t,p:l.parsers&&l.parsers[i].format(t,r,[],i)})}),a=l.textSorter||"",n.sort(function(s,l){var n=s.p.toString(),o=l.p.toString();return e.isFunction(a)?a(n,o,!0,i,r):"object"==typeof a&&a.hasOwnProperty(i)?a[i](n,o,!0,i,r):t.sortNatural?t.sortNatural(n,o):!0}),o=[],e.each(n,function(e,t){o.push(t.t)})),o},getOptions:function(t,r,i){var s,a,l,n,o=t.config,d=o.widgetOptions,c=o.$table.children("tbody"),f=[];for(s=0;s<c.length;s++)if(!c.eq(s).hasClass(o.cssInfoBlock))for(n=o.cache[s],a=o.cache[s].normalized.length,t=0;a>t;t++)l=n.row?n.row[t]:n.normalized[t][o.columns].$row[0],i&&l.className.match(d.filter_filteredRow)||(d.filter_useParsedData?f.push(""+n.normalized[t][r]):(l=l.cells[r])&&f.push(e.trim(l.textContent||l.innerText||e(l).text())));return f},buildSelect:function(r,i,s,a){if((""==e(document.activeElement).val()||void 0==e(document.activeElement).attr("data-column")||i!=e(document.activeElement).attr("data-column"))&&r.config.cache&&!e.isEmptyObject(r.config.cache)){i=parseInt(i,10);var l;l=r.config;var n=l.widgetOptions,o=l.$headers.filter('[data-column="'+i+'"]:last'),o='<option value="">'+(o.data("placeholder")||o.attr("data-placeholder")||n.filter_placeholder.select||"")+"</option>",d=t.filter.getOptionSource(r,i,a),c=l.$table.find("thead").find("select."+t.css.filter+'[data-column="'+i+'"]').val();for(r=0;r<d.length;r++)a=d[r].replace(/\"/g,"&quot;"),o+=""!==d[r]?'<option value="'+a+'"'+(c===a?' selected="selected"':"")+">"+d[r]+"</option>":"";l=(l.$filters?l.$filters:l.$table.children("thead")).find("."+t.css.filter),n.filter_$externalFilters&&(l=l&&l.length?l.add(n.filter_$externalFilters):n.filter_$externalFilters),l.filter('select[data-column="'+i+'"]')[s?"html":"append"](o),n.filter_functions||(n.filter_functions={}),n.filter_functions[i]=!0}},buildDefault:function(e,r){var i,s,a=e.config,l=a.widgetOptions,n=a.columns;for(i=0;n>i;i++)s=a.$headers.filter('[data-column="'+i+'"]:last'),!s.hasClass("filter-select")&&!0!==t.getColumnData(e,l.filter_functions,i)||s.hasClass("filter-false")||t.filter.buildSelect(e,i,r,s.hasClass(l.filter_onlyAvail))}},t.getFilters=function(r,i,s,a){var l,n=!1,o=r?e(r)[0].config:"",d=o?o.widgetOptions:"";if(!0!==i&&d&&!d.filter_columnFilters)return e(r).data("lastSearch");if(o&&(o.$filters&&(l=o.$filters.find("."+t.css.filter)),d.filter_$externalFilters&&(l=l&&l.length?l.add(d.filter_$externalFilters):d.filter_$externalFilters),l&&l.length))for(n=s||[],r=0;r<o.columns+1;r++)i=l.filter('[data-column="'+(r===o.columns?"all":r)+'"]'),i.length&&(i=i.sort(function(t,r){return e(r).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}),e.isArray(s)?(a?i.slice(1):i).val(s[r]).trigger("change.tsfilter"):(n[r]=i.val()||"",i.slice(1).val(n[r])),r===o.columns&&i.length&&(d.filter_$anyMatch=i));return 0===n.length&&(n=!1),n},t.setFilters=function(r,i,s,a){var l=r?e(r)[0].config:"";return r=t.getFilters(r,!0,i,a),l&&s&&(l.lastCombinedFilter=null,l.lastSearch=[],t.filter.searching(l.$table[0],i,a),l.$table.trigger("filterFomatterUpdate")),!!r},t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(r,i,s){if(!(i.$table.hasClass("hasStickyHeaders")||0<=e.inArray("filter",i.widgets)&&!i.$table.hasClass("hasFilters"))){var a,l=i.$table,n=e(s.stickyHeaders_attachTo),o=l.children("thead:first"),d=n.length?n:e(window),c=o.children("tr").not(".sticky-false").children(),f="."+t.css.headerIn,h=l.find("tfoot"),u=isNaN(s.stickyHeaders_offset)?e(s.stickyHeaders_offset):"",g=n.length?0:u.length?u.height()||0:parseInt(s.stickyHeaders_offset,10)||0,p=s.$sticky=l.clone().addClass("containsStickyHeaders").css({position:n.length?"absolute":"fixed",margin:0,top:g,left:0,visibility:"hidden",zIndex:s.stickyHeaders_zIndex?s.stickyHeaders_zIndex:2}),m=p.children("thead:first").addClass(t.css.sticky+" "+s.stickyHeaders),b="",v=0,y="collapse"!==l.css("border-collapse")&&!/(webkit|msie)/i.test(navigator.userAgent),w=function(){g=u.length?u.height()||0:parseInt(s.stickyHeaders_offset,10)||0,v=0,y&&(v=2*parseInt(c.eq(0).css("border-left-width"),10)),p.css({left:n.length?(parseInt(n.css("padding-left"),10)||0)+parseInt(i.$table.css("padding-left"),10)+parseInt(i.$table.css("margin-left"),10)+parseInt(l.css("border-left-width"),10):o.offset().left-d.scrollLeft()-v,width:l.width()}),a.filter(":visible").each(function(t){t=c.filter(":visible").eq(t);var r=y&&e(this).attr("data-column")===""+parseInt(i.columns/2,10)?1:0;e(this).css({width:t.width()-v}).find(f).width(t.find(f).width()-r)})};p.attr("id")&&(p[0].id+=s.stickyHeaders_cloneId),p.find("thead:gt(0), tr.sticky-false").hide(),p.find("tbody, tfoot").remove(),s.stickyHeaders_includeCaption?p.find("caption").css("margin-left","-1px"):p.find("caption").remove(),a=m.children().children(),p.css({height:0,width:0,padding:0,margin:0,border:0}),a.find("."+t.css.resizer).remove(),l.addClass("hasStickyHeaders").bind("pagerComplete.tsSticky",function(){w()}),t.bindEvents(r,m.children().children(".tablesorter-header")),l.after(p),d.bind("scroll.tsSticky resize.tsSticky",function(e){if(l.is(":visible")){var t=l.offset(),r=s.stickyHeaders_includeCaption?0:l.find("caption").outerHeight(!0),r=(n.length?n.offset().top:d.scrollTop())+g-r,i=l.height()-(p.height()+(h.height()||0)),t=r>t.top&&r<t.top+i?"visible":"hidden",r={visibility:t};n.length?r.top=n.scrollTop():r.left=o.offset().left-d.scrollLeft()-v,p.removeClass("tablesorter-sticky-visible tablesorter-sticky-hidden").addClass("tablesorter-sticky-"+t).css(r),(t!==b||"resize"===e.type)&&(w(),b=t)}}),s.stickyHeaders_addResizeEvent&&t.addHeaderResizeEvent(r),l.hasClass("hasFilters")&&(l.bind("filterEnd",function(){var r=e(document.activeElement).closest("td"),r=r.parent().children().index(r);p.hasClass(t.css.stickyVis)&&s.stickyHeaders_filteredToTop&&(window.scrollTo(0,l.position().top),r>=0&&i.$filters&&i.$filters.eq(r).find("a, select, input").filter(":visible").focus())}),t.filter.bindSearch(l,a.find("."+t.css.filter)),s.filter_hideFilters&&t.filter.hideFilters(p,i)),l.trigger("stickyHeadersInit")}},remove:function(r,i,s){i.$table.removeClass("hasStickyHeaders").unbind("pagerComplete.tsSticky").find("."+t.css.sticky).remove(),s.$sticky&&s.$sticky.length&&s.$sticky.remove(),e(".hasStickyHeaders").length||e(window).unbind("scroll.tsSticky resize.tsSticky"),t.addHeaderResizeEvent(r,!1)}}),t.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1},format:function(r,i,s){if(!i.$table.hasClass("hasResizable")){i.$table.addClass("hasResizable"),t.resizableReset(r,!0);var a,l,n,o,d,c={},f=i.$table,h=0,u=null,g=null,p=20>Math.abs(f.parent().width()-f.width()),m=function(e){if(0!==h&&u){var t=e.pageX-h,r=u.width();u.width(r+t),u.width()!==r&&p&&g.width(g.width()-t),h=e.pageX}},b=function(){t.storage&&u&&g&&(c={},c[u.index()]=u.width(),c[g.index()]=g.width(),u.width(c[u.index()]),g.width(c[g.index()]),!1!==s.resizable&&t.storage(r,"tablesorter-resizable",i.$headers.map(function(){return e(this).width()}).get())),h=0,u=g=null,e(window).trigger("resize")};if(c=t.storage&&!1!==s.resizable?t.storage(r,"tablesorter-resizable"):{})for(o in c)!isNaN(o)&&o<i.$headers.length&&i.$headers.eq(o).width(c[o]);a=f.children("thead:first").children("tr"),a.children().each(function(){var s;s=e(this),o=s.attr("data-column"),s="false"===t.getData(s,t.getColumnData(r,i.headers,o),"resizable"),a.children().filter('[data-column="'+o+'"]')[s?"addClass":"removeClass"]("resizable-false")}),a.each(function(){n=e(this).children().not(".resizable-false"),e(this).find("."+t.css.wrapper).length||n.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),s.resizable_addLastColumn||(n=n.slice(0,-1)),l=l?l.add(n):n}),l.each(function(){var r=e(this),i=parseInt(r.css("padding-right"),10)+10;r.find("."+t.css.wrapper).append('<div class="'+t.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+i+'px;top:0;height:100%;width:20px;"></div>')}).find("."+t.css.resizer+",."+t.css.grip).bind("mousedown",function(t){u=e(t.target).closest("th");var r=i.$headers.filter('[data-column="'+u.attr("data-column")+'"]');1<r.length&&(u=u.add(r)),g=t.shiftKey?u.parent().find("th").not(".resizable-false").filter(":last"):u.nextAll(":not(.resizable-false)").eq(0),h=t.pageX}),e(document).bind("mousemove.tsresize",function(e){0!==h&&u&&(s.resizable_throttle?(clearTimeout(d),d=setTimeout(function(){m(e)},isNaN(s.resizable_throttle)?5:s.resizable_throttle)):m(e))}).bind("mouseup.tsresize",function(){b()}),f.find("thead:first").bind("contextmenu.tsresize",function(){t.resizableReset(r);var i=e.isEmptyObject?e.isEmptyObject(c):!0;return c={},i})}},remove:function(e,r){r.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find("."+t.css.resizer+",."+t.css.grip).remove(),t.resizableReset(e)}}),t.resizableReset=function(r,i){e(r).each(function(){var s,a=this.config,l=a&&a.widgetOptions;r&&a&&(a.$headers.each(function(t){s=e(this),l.resizable_widths[t]?s.css("width",l.resizable_widths[t]):s.hasClass("resizable-false")||s.css("width","")}),t.storage&&!i&&t.storage(this,"tablesorter-resizable",{}))})},t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,r,i){t.format(e,r,i,!0)},format:function(r,i,s,a){var l,n=i.$table;s=!1!==s.saveSort;var o={sortList:i.sortList};i.debug&&(l=new Date),n.hasClass("hasSaveSort")?s&&r.hasInitialized&&t.storage&&(t.storage(r,"tablesorter-savesort",o),i.debug&&t.benchmark("saveSort widget: Saving last sort: "+i.sortList,l)):(n.addClass("hasSaveSort"),o="",t.storage&&(o=(s=t.storage(r,"tablesorter-savesort"))&&s.hasOwnProperty("sortList")&&e.isArray(s.sortList)?s.sortList:"",i.debug&&t.benchmark('saveSort: Last sort loaded: "'+o+'"',l),n.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(r,"tablesorter-savesort","")})),a&&o&&0<o.length?i.sortList=o:r.hasInitialized&&o&&0<o.length&&n.trigger("sorton",[o]))},remove:function(e){t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery);