// Generated by CoffeeScript 1.7.1
var __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

define(['marionette'], function(Marionette) {
  var ScreenTwoView, UnitTypeChildView, UnitTypeView;
  UnitTypeView = (function(_super) {
    __extends(UnitTypeView, _super);

    function UnitTypeView() {
      return UnitTypeView.__super__.constructor.apply(this, arguments);
    }

    UnitTypeView.prototype.className = "grid-block-1";

    UnitTypeView.prototype.template = '<a href="#"  class="grid-link"  data-value="{{range}}" > <div class="grid-text-wrap"  id="{{buildingid}}{{name}}"   > <span class="grid-main-title">{{name}}</span> <span class="grid-sub-title">{{low_min_val}} - {{low_max_val}}</span> </div> </a>';

    UnitTypeView.prototype.events = {
      'click ': 'typeOfUnitSelected'
    };

    UnitTypeView.prototype.typeOfUnitSelected = function(evt) {
      evt.preventDefault();
      return this.trigger('type:unit:clicked', this.model.get('buildingid'), this.model.get('unitType'), this.model.get('range'));
    };

    return UnitTypeView;

  })(Marionette.ItemView);
  UnitTypeChildView = (function(_super) {
    __extends(UnitTypeChildView, _super);

    function UnitTypeChildView() {
      return UnitTypeChildView.__super__.constructor.apply(this, arguments);
    }

    UnitTypeChildView.prototype.template = '<div class="grid-container">{{buildingname}}</div>';

    UnitTypeChildView.prototype.childView = UnitTypeView;

    UnitTypeChildView.prototype.childViewContainer = '.grid-container';

    UnitTypeChildView.prototype.initialize = function() {
      console.log(this.model.get('units'));
      return this.collection = this.model.get('units');
    };

    return UnitTypeChildView;

  })(Marionette.CompositeView);
  return ScreenTwoView = (function(_super) {
    __extends(ScreenTwoView, _super);

    function ScreenTwoView() {
      return ScreenTwoView.__super__.constructor.apply(this, arguments);
    }

    ScreenTwoView.prototype.template = '<div id="vs-container" class="vs-container"> <header class="vs-header"> <h1>Sliding Triple View Layout <span>with Visible Adjoining Sections</span></h1> <ul class="vs-nav"> <li><a id="data0" class="image" href="#section-0" data-value="0">Low</a></li> <li><a id="data1" class="image"  href="#section-1" data-value="1">Medium</a></li> <li><a id="data2" class="image" href="#section-2" data-value="2">High</a></li> </ul> </header><div class="vs-wrapper"> <section id="section-0"> <div class="vs-content"> <!-- content --> </div> </section> <section id="section-1"><!-- ... --></section> <section id="section-2"><!-- ... --></section> <!-- ... --> </div>';

    ScreenTwoView.prototype.childView = UnitTypeChildView;

    ScreenTwoView.prototype.events = {
      'click .image': 'imageslider'
    };

    ScreenTwoView.prototype.imageslider = function(e) {
      var images, img_val, myArray, q, w;
      myArray = Array();
      img_val = $("#" + e.target.id).attr('data-value');
      images = ['http://farm4.static.flickr.com/3219/2431886567_c92821aede_o.jpg', 'http://farm1.static.flickr.com/37/85684217_526797a103_o.jpg', 'http://farm5.static.flickr.com/4080/4906820567_63fb82fa85_b.jpg'];
      q = img_val;
      w = 0;
      console.log(images.length);
      while (w < 1) {
        if (images.length === q) {
          q = 0;
        }
        myArray.push(images[q]);
        w++;
        q++;
      }
      console.log(myArray);
      return $.preload(myArray, 1, function(last) {
        var i;
        console.log(this.length);
        i = 0;
        while (i < this.length) {
          $('<img height="200" src="' + this[i] + '" alt="" />').appendTo('section#section-' + img_val);
          i++;
        }
        if (last) {
          return console.log("aaa");
        }
      });
    };

    return ScreenTwoView;

  })(Marionette.CompositeView);
});
